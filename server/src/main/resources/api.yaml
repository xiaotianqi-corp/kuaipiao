openapi: 3.0.0
info:
  title: KuaiPiao Docs
  version: 1.0.0
  description: Comprehensive API documentation for KuaiPiao - Invoice Processing & Management Platform
  contact:
    name: KuaiPiao Support
    url: https://xiaotianqi.com/support
    email: support@xiaotianqi.com
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
servers:
  - {"url":"http://localhost:8080","description":"Development"}
  - {"url":"https://app.xiaotianqi.com/kuaipiao","description":"Production"}
paths:
  /api/v1/oauth/sign-up:
    post:
      summary: Register new user
      operationId: postregisterroute
      tags:
        - "Authentication"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/sign-up \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --data '\n        {\n          \"firstName\": \"John\",\n          \"lastName\": \"Doe\",\n          \"email\": \"john@example.com\",\n          \"password\": \"SecurePass123\",\n          \"organization\": {\n            \"id\": \"org-12345\",\n            \"userIds\": [],\n            \"name\": \"Acme Corp\",\n            \"code\": \"ACME001\",\n            \"address\": \"123 Main St\",\n            \"phone\": \"+1-555-1234\",\n            \"email\": \"contact@acme.com\",\n            \"country\": \"USA\",\n            \"city\": \"New York\",\n            \"metadata\": null,\n            \"status\": \"ACTIVE\",\n            \"createdAt\": \"2024-01-01T00:00:00Z\",\n            \"updatedAt\": null\n          }\n        }\n    '"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/RegistrationCredentials
            example:
              firstName: John
              lastName: Doe
              email: john@example.com
              password: SecurePass123
              organization:
                id: org-12345
                userIds: []
                name: Acme Corp
                code: ACME001
                address: 123 Main St
                phone: +1-555-1234
                email: contact@acme.com
                country: USA
                city: New York
                metadata: null
                status: ACTIVE
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: null
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                message: Verification email sent
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/admin/profile:
    get:
      summary: Get admin profile
      operationId: getadminprofileroute
      tags:
        - "Admin Authentication"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/admin/profile \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"JWTAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: admin-001
                username: admin
                email: admin@kuaipiao.com
                firstName: Admin
                lastName: User
                enterpriseId: 
                organizationIds: []
                roleIds:
                  - "admin"
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/verification-notification:
    post:
      summary: Send verification email
      operationId: postsendverificationemailroute
      tags:
        - "Authentication"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/verification-notification \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                message: Verification email sent
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/verify-email:
    get:
      summary: Verify email address with token
      operationId: getverifyemailroute
      tags:
        - "Authentication"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/verify-email \\\n  --request GET \\\n  --header 'Content-Type: application/json'"}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                message: Email verified successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/admin/sign-up:
    post:
      summary: Register super admin
      operationId: postadminregisterroute
      tags:
        - "Admin Authentication"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/admin/sign-up \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --data '{\"email\":\"admin@kuaipiao.com\",\"password\":\"SecureAdminPass123\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/CreateSuperAdminRequest
            example:
              email: admin@kuaipiao.com
              password: SecureAdminPass123
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                message: Super admin created successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/password-forgotten:
    get:
      summary: Request password reset email
      operationId: getpasswordforgottenroute
      tags:
        - "Authentication"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/password-forgotten \\\n  --request GET \\\n  --header 'Content-Type: application/json'"}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                message: Password reset email sent
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/admin/users/{id}:
    delete:
      summary: Delete user
      operationId: deleteadminremoveuserroute
      tags:
        - "Admin User Management"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/admin/users/{id} \\\n  --request DELETE \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"JWTAuth":[]}
      responses:
        204:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                message: User deleted successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
    get:
      summary: Get user by ID
      operationId: getadminuserbyidroute
      tags:
        - "Admin User Management"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/admin/users/{id} \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"JWTAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: user-001
                username: user
                email: user@example.com
                firstName: John
                lastName: Doe
                enterpriseId: ent-123
                organizationIds: []
                roleIds: []
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/admin/users/{id}/status:
    put:
      summary: Update user status
      operationId: putadminupdatestatusroute
      tags:
        - "Admin User Management"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/admin/users/{id}/status \\\n  --request PUT \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"status\":\"inactive\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/UpdateUserStatusRequest
            example:
              status: inactive
      security:
        - {"JWTAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: user-001
                username: user
                email: user@example.com
                firstName: John
                lastName: Doe
                enterpriseId: ent-123
                organizationIds: []
                roleIds: []
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T10:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/logout:
    get:
      summary: Logout user
      operationId: getlogoutroute
      tags:
        - "Authentication"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/logout \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                message: Logout successful
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/reset-password:
    post:
      summary: Reset password with reset token
      operationId: postresetpasswordroute
      tags:
        - "Authentication"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/reset-password \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --data '{\"password\":\"NewSecurePass123\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/ResetPasswordRequest
            example:
              password: NewSecurePass123
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                message: Password reset successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/is-email-verified:
    post:
      summary: Check if email is verified
      operationId: postisemailverifiedroute
      tags:
        - "Authentication"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/is-email-verified \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                verified: true
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/admin/users:
    get:
      summary: List all users
      operationId: getadminuserroute
      tags:
        - "Admin User Management"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/admin/users \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"JWTAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                users:
                  - {"id":"user-001","username":"user","email":"user@example.com","firstName":"John","lastName":"Doe","enterpriseId":"ent-123","organizationIds":[],"roleIds":[],"createdAt":"2024-01-01T00:00:00Z","updatedAt":"2024-01-01T00:00:00Z"}
                total: 1
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/admin/users/{id}/roles:
    post:
      summary: Assign role to user
      operationId: postadminaddroleuserroute
      tags:
        - "Admin User Management"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/admin/users/{id}/roles \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"roleId\":\"role-123\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/AssignRoleRequest
            example:
              roleId: role-123
      security:
        - {"JWTAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: user-001
                username: user
                email: user@example.com
                firstName: John
                lastName: Doe
                enterpriseId: ent-123
                organizationIds: []
                roleIds:
                  - "role-123"
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T10:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/oauth/sign-in:
    post:
      summary: Authenticate user
      operationId: postloginroute
      tags:
        - "Authentication"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/oauth/sign-in \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --data '{\"email\":\"user@example.com\",\"password\":\"password123\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/LoginCredentials
            example:
              email: user@example.com
              password: password123
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: 123e4567-e89b-12d3-a456-426614174000
                username: user
                email: user@example.com
                firstName: John
                lastName: Doe
                enterpriseId: ent-123
                organizationIds: []
                roleIds: []
                createdAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/email/audiences:
    post:
      summary: Create audience
      operationId: postcreateemailaudienceroute
      tags:
        - "Audiences"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/audiences \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"name\":\"Newsletter Subscribers\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
              required:
                - "name"
            example:
              name: Newsletter Subscribers
      security:
        - {"BearerAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  object:
                    type: string
                  name:
                    type: string
              example:
                id: aud-123
                object: audience
                name: Newsletter Subscribers
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/email/{emailId}:
    get:
      summary: Get email details by ID
      operationId: getemaildetailbyidroute
      tags:
        - "Email"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/{emailId} \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"BearerAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  object:
                    type: string
                  id:
                    type: string
                  to:
                    type: array
                    items:
                      type: string
                  from:
                    type: string
                  subject:
                    type: string
                  html:
                    type: string
                  text:
                    type: string
                  created_at:
                    type: string
                  last_event:
                    type: string
              example:
                object: email
                id: 009d4a47-87d8-41a7-97e5-29a9581a401c
                to:
                  - "delivered@resend.dev"
                from: onboarding@resend.dev
                subject: Hello
                html: <p>Test</p>
                created_at: 2025-01-01T00:00:00Z
                last_event: delivered
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/email/domains:
    get:
      summary: List all domains
      operationId: getfindallemaildomainroute
      tags:
        - "Domains"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/domains \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"BearerAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
              example:
                data:
                  - {"id":"dom-123","name":"example.com","status":"verified"}
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
    post:
      summary: Create domain
      operationId: postcreateemaildomainroute
      tags:
        - "Domains"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/domains \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"name\":\"mail.example.com\",\"region\":\"us-east-1\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                region:
                  type: string
              required:
                - "name"
            example:
              name: mail.example.com
              region: us-east-1
      security:
        - {"BearerAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  name:
                    type: string
                  status:
                    type: string
                  records:
                    type: array
              example:
                id: dom-123
                name: mail.example.com
                status: pending
                records: []
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/email/templates:
    post:
      summary: Create email template
      operationId: postcreateemailtemplateroute
      tags:
        - "Email Templates"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/templates \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"name\":\"Verification Template\",\"html\":\"<p>Verify your email: {{verification_url}}</p>\",\"alias\":\"email_verification\",\"subject\":\"Verify Email\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                html:
                  type: string
                alias:
                  type: string
                from:
                  type: string
                subject:
                  type: string
                replyTo:
                  type: array
                  items:
                    type: string
                text:
                  type: string
              required:
                - "name"
                - "html"
            example:
              name: Verification Template
              html: <p>Verify your email: {{verification_url}}</p>
              alias: email_verification
              subject: Verify Email
      security:
        - {"BearerAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  object:
                    type: string
              example:
                id: template-123
                object: template
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
    get:
      summary: List all templates
      operationId: getfindemailtemplateroute
      tags:
        - "Email Templates"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/templates \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"BearerAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  object:
                    type: string
                  data:
                    type: array
                    items:
                      type: object
                  has_more:
                    type: boolean
              example:
                object: list
                data:
                  - {"id":"tpl-1","name":"Verification"}
                has_more: false
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/email/audiences/{audienceId}/contacts:
    post:
      summary: Add contact to audience
      operationId: postcreateemailcontactroute
      tags:
        - "Contacts"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/audiences/{audienceId}/contacts \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"email\":\"user@example.com\",\"firstName\":\"John\",\"lastName\":\"Doe\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                firstName:
                  type: string
                lastName:
                  type: string
              required:
                - "email"
            example:
              email: user@example.com
              firstName: John
              lastName: Doe
      security:
        - {"BearerAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  object:
                    type: string
                  id:
                    type: string
              example:
                object: contact
                id: contact-123
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/email/batch:
    post:
      summary: Send batch emails (up to 100)
      operationId: postemailbatchroute
      tags:
        - "Email"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/batch \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"emails\":[{\"from\":\"onboarding@resend.dev\",\"to\":[\"user1@example.com\"],\"subject\":\"Batch Test\",\"html\":\"<p>Batch email</p>\"},{\"from\":\"onboarding@resend.dev\",\"to\":[\"user2@example.com\"],\"subject\":\"Batch Test 2\",\"html\":\"<p>Second email</p>\"}]}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                emails:
                  type: array
                  items:
                    type: object
                    properties:
                      from:
                        type: string
                      to:
                        type: array
                        items:
                          type: string
                      subject:
                        type: string
                      html:
                        type: string
                      text:
                        type: string
                    required:
                      - "to"
                      - "subject"
              required:
                - "emails"
            example:
              emails:
                - {"from":"onboarding@resend.dev","to":["user1@example.com"],"subject":"Batch Test","html":"<p>Batch email</p>"}
                - {"from":"onboarding@resend.dev","to":["user2@example.com"],"subject":"Batch Test 2","html":"<p>Second email</p>"}
      security:
        - {"BearerAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  ids:
                    type: array
                    items:
                      type: string
                  count:
                    type: integer
              example:
                ids:
                  - "email1"
                  - "email2"
                count: 2
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/email/templates/{templateId}:
    get:
      summary: Get template by ID
      operationId: getfindemailtemplatebyidroute
      tags:
        - "Email Templates"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/templates/{templateId} \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"BearerAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  object:
                    type: string
                  id:
                    type: string
                  name:
                    type: string
                  html:
                    type: string
                  status:
                    type: string
              example:
                object: template
                id: tpl-123
                name: Verification
                html: <p>Verify</p>
                status: published
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/email/send:
    post:
      summary: Send an email
      operationId: postemailsendroute
      tags:
        - "Email"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/send \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"from\":\"onboarding@resend.dev\",\"to\":[\"delivered@resend.dev\"],\"subject\":\"Hello\",\"html\":\"<p>Test email</p>\",\"tags\":[{\"name\":\"tag1\",\"value\":\"value1\"}]}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                from:
                  type: string
                to:
                  type: array
                  items:
                    type: string
                subject:
                  type: string
                html:
                  type: string
                text:
                  type: string
                cc:
                  type: array
                  items:
                    type: string
                bcc:
                  type: array
                  items:
                    type: string
                replyTo:
                  type: array
                  items:
                    type: string
                tags:
                  type: array
                  items:
                    type: object
              required:
                - "to"
                - "subject"
            example:
              from: onboarding@resend.dev
              to:
                - "delivered@resend.dev"
              subject: Hello
              html: <p>Test email</p>
              tags:
                - {"name":"tag1","value":"value1"}
      security:
        - {"BearerAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
              example:
                id: 009d4a47-87d8-41a7-97e5-29a9581a401c
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/email/domains/{domainId}/verify:
    post:
      summary: Verify domain
      operationId: postverifyemaildomainroute
      tags:
        - "Domains"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/domains/{domainId}/verify \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"BearerAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  verified:
                    type: boolean
              example:
                verified: true
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/email/webhooks:
    post:
      summary: Create webhook
      operationId: postcreateemailwebhookroute
      tags:
        - "Webhooks"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/email/webhooks \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"endpoint\":\"https://xiaotianqi.com/webhooks/resend\",\"events\":[\"email.sent\",\"email.delivered\"]}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                endpoint:
                  type: string
                events:
                  type: array
                  items:
                    type: string
              required:
                - "endpoint"
                - "events"
            example:
              endpoint: https://xiaotianqi.com/webhooks/resend
              events:
                - "email.sent"
                - "email.delivered"
      security:
        - {"BearerAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  object:
                    type: string
                  id:
                    type: string
                  signing_secret:
                    type: string
              example:
                object: webhook
                id: wh-123
                signing_secret: whsec_...
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/company/delete/{id}:
    delete:
      summary: Delete company by ID
      operationId: deletecompanyremoveroute
      tags:
        - "Company"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/company/delete/{id} \\\n  --request DELETE \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        204:
          description: Successful operation
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/company/find/id/{id}:
    get:
      summary: Retrieve company by ID
      operationId: getcompanysearchbyidroute
      tags:
        - "Company"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/company/find/id/{id} \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  taxId:
                    type: string
                  address:
                    type: object
                  contact:
                    type: object
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
              example:
                name: Acme Inc
                taxId: TAX123456
                address:
                  street: 123 Main St
                  city: Quito
                  state: Pichincha
                  postalCode: 170150
                  country: Ecuador
                contact:
                  phone: +593999999999
                  email: contact@acme.com
                  contactPerson: John Doe
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/company/create:
    post:
      summary: Create a new company
      operationId: postcompanycreateroute
      tags:
        - "Company"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/company/create \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"name\":\"Acme Inc\",\"taxId\":\"TAX123456\",\"address\":{\"street\":\"123 Main St\",\"city\":\"Quito\",\"state\":\"Pichincha\",\"postalCode\":\"170150\",\"country\":\"Ecuador\"},\"contact\":{\"phone\":\"+593999999999\",\"email\":\"contact@acme.com\",\"contactPerson\":\"John Doe\"},\"createdAt\":\"2024-01-01T00:00:00Z\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                taxId:
                  type: string
                address:
                  type: object
                  properties:
                    street:
                      type: string
                    city:
                      type: string
                    state:
                      type: string
                    postalCode:
                      type: string
                    country:
                      type: string
                contact:
                  type: object
                  properties:
                    phone:
                      type: string
                    email:
                      type: string
                    contactPerson:
                      type: string
                createdAt:
                  type: string
                  format: date-time
                updatedAt:
                  type: string
                  format: date-time
              required:
                - "name"
                - "taxId"
                - "address"
                - "contact"
                - "createdAt"
            example:
              name: Acme Inc
              taxId: TAX123456
              address:
                street: 123 Main St
                city: Quito
                state: Pichincha
                postalCode: 170150
                country: Ecuador
              contact:
                phone: +593999999999
                email: contact@acme.com
                contactPerson: John Doe
              createdAt: 2024-01-01T00:00:00Z
      security:
        - {"SessionAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  taxId:
                    type: string
                  address:
                    type: object
                  contact:
                    type: object
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
              example:
                name: Acme Inc
                taxId: TAX123456
                address:
                  street: 123 Main St
                  city: Quito
                  state: Pichincha
                  postalCode: 170150
                  country: Ecuador
                contact:
                  phone: +593999999999
                  email: contact@acme.com
                  contactPerson: John Doe
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/company/find/tax-id/{taxId}:
    get:
      summary: Retrieve company by tax ID
      operationId: getcompanysearchbytaxidroute
      tags:
        - "Company"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/company/find/tax-id/{taxId} \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  taxId:
                    type: string
                  address:
                    type: object
                  contact:
                    type: object
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
              example:
                name: Acme Inc
                taxId: TAX123456
                address:
                  street: 123 Main St
                  city: Quito
                  state: Pichincha
                  postalCode: 170150
                  country: Ecuador
                contact:
                  phone: +593999999999
                  email: contact@acme.com
                  contactPerson: John Doe
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/company/find/industry/{id}:
    get:
      summary: Retrieve companies by industry
      operationId: getcompanysearchbyindustry
      tags:
        - "Company"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/company/find/industry/{id} \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  taxId:
                    type: string
                  address:
                    type: object
                  contact:
                    type: object
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
              example:
                name: Acme Inc
                taxId: TAX123456
                address:
                  street: 123 Main St
                  city: Quito
                  state: Pichincha
                  postalCode: 170150
                  country: Ecuador
                contact:
                  phone: +593999999999
                  email: contact@acme.com
                  contactPerson: John Doe
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/company/update/{id}/industry:
    put:
      summary: Update company industry
      operationId: putcompanyupdateindustryroute
      tags:
        - "Company"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/company/update/{id}/industry \\\n  --request PUT \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"industry\":\"Finance\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                industry:
                  type: string
              required:
                - "industry"
            example:
              industry: Finance
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
              example:
                message: Company industry updated successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/org/create:
    post:
      summary: Create a new organization
      operationId: postorganizationcreateroute
      tags:
        - "Organization"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/org/create \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"name\":\"Engineering Dept\",\"code\":\"ENG-001\",\"enterpriseId\":\"ent-123\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/CreateOrganizationRequest
            example:
              name: Engineering Dept
              code: ENG-001
              enterpriseId: ent-123
      security:
        - {"SessionAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: org-001
                name: Engineering Dept
                code: ENG-001
                status: active
                enterpriseId: ent-123
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/org/find/code/{code}:
    get:
      summary: Retrieve organization by code
      operationId: getorganizationsearchbycoderoute
      tags:
        - "Organization"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/org/find/code/{code} \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: org-001
                name: Engineering Dept
                code: ENG-001
                status: active
                enterpriseId: ent-123
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/org/update/{id}/status:
    put:
      summary: Update organization status
      operationId: putorganizationupdatestatusroute
      tags:
        - "Organization"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/org/update/{id}/status \\\n  --request PUT \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"status\":\"inactive\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/UpdateOrganizationStatusRequest
            example:
              status: inactive
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: org-001
                name: Engineering Dept
                code: ENG-001
                status: inactive
                enterpriseId: ent-123
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T10:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/org/delete/{id}:
    delete:
      summary: Delete organization by ID
      operationId: deleteorganizationremoveroute
      tags:
        - "Organization"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/org/delete/{id} \\\n  --request DELETE \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        204:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                message: Organization deleted successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/org/find/id/{id}:
    get:
      summary: Retrieve organization by ID
      operationId: getorganizationsearchbyidroute
      tags:
        - "Organization"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/org/find/id/{id} \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: org-001
                name: Engineering Dept
                code: ENG-001
                status: active
                enterpriseId: ent-123
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/enterprise/find/subdomain/{subdomain}:
    get:
      summary: Retrieve enterprise by subdomain
      operationId: getenterprisesearchbysubdomainroute
      tags:
        - "Enterprise"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/enterprise/find/subdomain/{subdomain} \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: ent-001
                name: Tech Corp
                subdomain: techcorp
                status: active
                plan: professional
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/enterprise/find/{id}:
    get:
      summary: Retrieve enterprise by ID
      operationId: getenterprisesearchbyidroute
      tags:
        - "Enterprise"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/enterprise/find/{id} \\\n  --request GET \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: ent-001
                name: Tech Corp
                subdomain: techcorp
                status: active
                plan: professional
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/enterprise/create:
    post:
      summary: Create a new enterprise
      operationId: postenterprisecreateroute
      tags:
        - "Enterprise"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/enterprise/create \\\n  --request POST \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"name\":\"Tech Corp\",\"subdomain\":\"techcorp\",\"plan\":\"professional\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/CreateEnterpriseRequest
            example:
              name: Tech Corp
              subdomain: techcorp
              plan: professional
      security:
        - {"SessionAuth":[]}
      responses:
        201:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: ent-001
                name: Tech Corp
                subdomain: techcorp
                status: active
                plan: professional
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T00:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/enterprise/update/{id}/plan:
    put:
      summary: Update enterprise subscription plan
      operationId: putenterpriseupdateplanroute
      tags:
        - "Enterprise"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/enterprise/update/{id}/plan \\\n  --request PUT \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"plan\":\"enterprise\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/UpdateEnterprisePlanRequest
            example:
              plan: enterprise
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: ent-001
                name: Tech Corp
                subdomain: techcorp
                status: active
                plan: enterprise
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T10:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/enterprise/delete/{id}:
    delete:
      summary: Delete enterprise by ID
      operationId: deleteenterpriseremoveroute
      tags:
        - "Enterprise"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/enterprise/delete/{id} \\\n  --request DELETE \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN'"}
      security:
        - {"SessionAuth":[]}
      responses:
        204:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                message: Enterprise deleted successfully
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
  /api/v1/enterprise/update/{id}/status:
    put:
      summary: Update enterprise status
      operationId: putenterpriseupdatestatusroute
      tags:
        - "Enterprise"
      x-code-samples:
        - {"lang":"curl","source":"curl http://localhost:8080/api/v1/enterprise/update/{id}/status \\\n  --request PUT \\\n  --header 'Content-Type: application/json' \\\n  --header 'Authorization: Bearer YOUR_JWT_TOKEN' \\\n  --data '{\"status\":\"suspended\"}'"}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: #/components/schemas/UpdateEnterpriseStatusRequest
            example:
              status: suspended
      security:
        - {"SessionAuth":[]}
      responses:
        200:
          description: Success
          content:
            application/json:
              schema:
                type: object
              example:
                id: ent-001
                name: Tech Corp
                subdomain: techcorp
                status: suspended
                plan: professional
                createdAt: 2024-01-01T00:00:00Z
                updatedAt: 2024-01-01T10:00:00Z
        400:
          description: Bad request
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        401:
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        422:
          description: Unprocessable entity
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                $ref: #/components/schemas/ErrorResponse
components:
  schemas:
    ErrorResponse:
      type: object
      additionalProperties: false
      properties:
        errors:
          type: array
          items:
            $ref: #/components/schemas/Error
        meta:
          type: object
        clerk_trace_id:
          type: string
      required:
        - "errors"
        - "meta"
    Error:
      type: object
      properties:
        message:
          type: string
        long_message:
          type: string
        code:
          type: string
        meta:
          type: object
      required:
        - "message"
        - "code"
  securitySchemes:
    SessionAuth:
      type: apiKey
      name: user_session_id
      in: cookie
      description: Session cookie
    JWTAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT token
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: Bearer token for Resend/API